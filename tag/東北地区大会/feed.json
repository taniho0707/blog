{
    "version": "https://jsonfeed.org/version/1",
    "title": "taniho's blog • All posts by \"東北地区大会\" tag",
    "description": "technical note",
    "home_page_url": "http://blog.taniho.net",
    "items": [
        {
            "id": "http://blog.taniho.net/2016/10/%E7%AC%AC29%E5%9B%9E%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%83%9E%E3%82%A6%E3%82%B9%E6%9D%B1%E5%8C%97%E5%9C%B0%E5%8C%BA%E5%A4%A7%E4%BC%9A%E3%81%A7%E8%B6%B3%E7%AB%8B%E6%B3%95%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E8%A9%B1/",
            "url": "http://blog.taniho.net/2016/10/%E7%AC%AC29%E5%9B%9E%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%83%9E%E3%82%A6%E3%82%B9%E6%9D%B1%E5%8C%97%E5%9C%B0%E5%8C%BA%E5%A4%A7%E4%BC%9A%E3%81%A7%E8%B6%B3%E7%AB%8B%E6%B3%95%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E8%A9%B1/",
            "title": "第29回マイクロマウス東北地区大会で足立法を実装した話",
            "date_published": "2016-10-10T15:56:23.000Z",
            "content_html": "<h1 id=\"東北大会\"><a href=\"#東北大会\" class=\"headerlink\" title=\"東北大会\"></a>東北大会</h1><p><a href=\"http://mm.jan.jp/\">マイクロマウス東北地区大会</a>は，我々Miceが毎年大変お世話になっている大会です．<br>毎年多くのフレッシュマンが精神と時の部屋でとてつもない成長を遂げます．</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">東北大会前日（当日？）の調整部屋の様子です！<br>通称：精神と時の部屋からの中継でした（笑）<br> <a href=\"https://twitter.com/hashtag/%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%83%9E%E3%82%A6%E3%82%B9?src=hash\">#マイクロマウス</a> <a href=\"https://t.co/nh2ppytwBb\">pic.twitter.com/nh2ppytwBb</a></p>&mdash; 全日本マイクロマウス大会実行委員会 (@MicromouseJapan) <a href=\"https://twitter.com/MicromouseJapan/status/784782124020666373\">2016年10月8日</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<p>本年度も6人のフレッシュマンがエントリーし，うち3名が完走．そしてその3名が上位1〜3位を独占という結果になりました！ まずは良い結果になり，ホッとしています．正直自分の出走より何倍もドキドキしていました．</p>\n<ul>\n<li><a href=\"http://nunumouse.hatenablog.com/entry/2016/10/11/185607\">きつね，ねずみ，25%OFF</a> <del>(ブログ書いてね)</del></li>\n<li><a href=\"http://aigis0009.hatenablog.com/entry/2016/10/10/032258\">東北大会！</a></li>\n<li><a href=\"http://hihumi-technic.hatenablog.com/entry/2016/10/10/005609\">東北大会直後</a></li>\n</ul>\n<p>反省点も色々と考えているようなので，次の大会も期待しています．博多ラーメン食べられるのが今週の活力．</p>\n<h1 id=\"精神と時の部屋での成長\"><a href=\"#精神と時の部屋での成長\" class=\"headerlink\" title=\"精神と時の部屋での成長\"></a>精神と時の部屋での成長</h1><p>調整時間にあまり他の人に構えなくて申し訳なく思っていますが，なんせ自分の進捗が怪しいので頑張っていました．</p>\n<p>今年のマウスはマイコンを変えただけでなく，プログラムをイチから書き直しています．というのも，コンパイラを変えたことでC++14が使えるようになったので，色々と直したいところが出てきたためです．<br>ついでにクラス設計も考え直しました．今のところ，いい感じにコードが動いているように思います．</p>\n<p>さて，そのせいもあり，容易には昨年度のプログラムを流用することができなくなっています．<br>精神と時の部屋では，<strong>壁情報の保存，歩数マップの展開，足立法の実装</strong>を終えることができました．(あれっ，進捗遅くない？？？)<br>そういえばモードを実装しようと思っていましたが，間に合いませんでした．そのうちがんばります．</p>\n<p>さて，ここからは技術的な話．毎度言っていますが，参考にするときは完全に自己責任で．より良い方法があればご教示いただきたいです．<br>足立法で走行するプログラムは，こんな感じになっています．</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">VelocityControl vc;</span><br><span class=\"line\">Position pos;</span><br><span class=\"line\"></span><br><span class=\"line\">Adachi adachi;</span><br><span class=\"line\">Map <span class=\"built_in\">map</span>;</span><br><span class=\"line\">Walldata walldata;</span><br><span class=\"line\">WallSensor wall;</span><br><span class=\"line\"></span><br><span class=\"line\">adachi.setGoal(<span class=\"number\">11</span>, <span class=\"number\">11</span>);</span><br><span class=\"line\">vc-&gt;runTrapAccel(<span class=\"number\">0.0f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.045f</span>, <span class=\"number\">2.0f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">\twalldata = wall-&gt;getWall();</span><br><span class=\"line\">\t<span class=\"built_in\">map</span>.addWall(pos.getPositionX(), pos.getPositionY(), pos.getAngle(), walldata);</span><br><span class=\"line\"></span><br><span class=\"line\">\tadachi.setMap(<span class=\"built_in\">map</span>);</span><br><span class=\"line\">\tadachi.renewFootmap();</span><br><span class=\"line\">\tslalomparams::RunType runtype = adachi.getNextMotion(pos.getPositionX(), pos.getPositionY(), pos.getAngle(), walldata);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(runtype == slalomparams::RunType::TRAPACCEL)&#123;</span><br><span class=\"line\">\t\tvc-&gt;runTrapAccel(<span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.078f</span>, <span class=\"number\">2.0f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(runtype == slalomparams::RunType::PIVOTTURN)&#123;</span><br><span class=\"line\">\t\tvc-&gt;runTrapAccel(<span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.0f</span>, <span class=\"number\">0.045f</span>, <span class=\"number\">2.0f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t\tvc-&gt;runPivotTurn(<span class=\"number\">360</span>, <span class=\"number\">180</span>, <span class=\"number\">1000</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t\tvc-&gt;runTrapAccel(<span class=\"number\">0.0f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.045f</span>, <span class=\"number\">2.0f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(runtype == slalomparams::RunType::SLALOM90SML_RIGHT)&#123;</span><br><span class=\"line\">\t\tvc-&gt;runSlalom(RunType::SLALOM90SML_RIGHT, <span class=\"number\">0.25f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(runtype == slalomparams::RunType::SLALOM90SML_LEFT)&#123;</span><br><span class=\"line\">\t\tvc-&gt;runSlalom(RunType::SLALOM90SML_LEFT, <span class=\"number\">0.25f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\tvc-&gt;runTrapAccel(<span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.0f</span>, <span class=\"number\">0.045f</span>, <span class=\"number\">2.0f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpos.setNextPosition(runtype);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(pos.getPositionX() == <span class=\"number\">11</span> &amp;&amp; pos.getPositionY() == <span class=\"number\">11</span>)&#123;</span><br><span class=\"line\">\t\tvc-&gt;runTrapAccel(<span class=\"number\">0.25f</span>, <span class=\"number\">0.25f</span>, <span class=\"number\">0.0f</span>, <span class=\"number\">0.045f</span>, <span class=\"number\">2.0f</span>); <span class=\"keyword\">while</span>(vc-&gt;isRunning());</span><br><span class=\"line\">\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">adachi.setMap(<span class=\"built_in\">map</span>);</span><br></pre></td></tr></table></figure>\n\n<p>壁情報を <code>Walldata</code> クラスでやり取りできるので，記述がなかなか楽になっています．<br>それから，足立法と座標管理部分と実際のセンサやモータ駆動部分を分離したため，シミュレータにそのまま移植できるはずです．</p>\n",
            "tags": [
                "マイクロマウス",
                "日常",
                "C++",
                "東北地区大会"
            ]
        }
    ]
}