{
    "version": "https://jsonfeed.org/version/1",
    "title": "taniho's blog • All posts by \"doxygen\" tag",
    "description": "technical note",
    "home_page_url": "http://blog.taniho.net",
    "items": [
        {
            "id": "http://blog.taniho.net/2017/12/TAC-21-Doxygen%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E6%98%8E%E6%97%A5%E3%81%AE%E8%87%AA%E5%88%86%E3%82%92%E5%9B%B0%E3%82%89%E3%81%9B%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B/",
            "url": "http://blog.taniho.net/2017/12/TAC-21-Doxygen%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E6%98%8E%E6%97%A5%E3%81%AE%E8%87%AA%E5%88%86%E3%82%92%E5%9B%B0%E3%82%89%E3%81%9B%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B/",
            "title": "[TAC:21] Doxygenを使って明日の自分を困らせないようにする",
            "date_published": "2017-12-21T09:00:00.000Z",
            "content_html": "<h1 id=\"はじめに\"><a href=\"#はじめに\" class=\"headerlink\" title=\"はじめに\"></a>はじめに</h1><p>この記事は<a href=\"http://blog.taniho.net/categories/TAC2017/\">taniho Advent Calendar 2017</a>の21日目の記事です．</p>\n<p>今日は，ソースコードのドキュメントを作ってくれる<a href=\"http://www.doxygen.jp/\">Doxygen</a>の紹介をしようと思います．</p>\n<a id=\"more\"></a>\n\n<h1 id=\"Doxygenとは\"><a href=\"#Doxygenとは\" class=\"headerlink\" title=\"Doxygenとは\"></a>Doxygenとは</h1><p>「昨日の自分が書いたコードが読めない」「自分で作った関数の使い方がわからない」ということ，よくありませんか？<br>C言語の標準ライブラリは，インターネットで調べれば使い方・リファレンスが見つかると思います．しかしマウスで使う関数はすべて自作なので(当然のことですが)<strong>誰もリファレンスを用意してくれません</strong>．<br>そこで，Doxygenを使って<strong>自分でリファレンスを作りましょう</strong>というのが今日の話題です．</p>\n<p>Doxygenで作ったリファレンスをお見せします．これは僕の前作のマウス，タニタンv2.0Hのコードリファレンスです．作ったリファレンスはLaTeXまたはhtmlファイルなどに出力できます．次の例はブラウザでhtmlファイルを表示したものです．</p>\n<p><img src=\"1.png\" alt=\"クラス一覧\"></p>\n<p><img src=\"2.png\" alt=\"クラスリファレンス(メンバの一覧)\"></p>\n<p><img src=\"3.png\" alt=\"メソッドリファレンス(関数の詳細)\"></p>\n<p>わかりやすいですね．マイクロマウスの場合，壁情報の格納や，壁センサ値の取得関数など，<strong>新作のマウスでも流用するコード</strong>はこういった風に<strong>リファレンスを作っておくと便利</strong>です．</p>\n<h1 id=\"リファレンスを書く\"><a href=\"#リファレンスを書く\" class=\"headerlink\" title=\"リファレンスを書く\"></a>リファレンスを書く</h1><p>Doxygenでリファレンスを作るためには，ヘッダファイルにコメントという形でメモを残す必要があります．Doxygenで認識される代表的な形式をまとめます．</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * この形式で書くと複数行コメントがDoxygenに認識される．アスタリスクの個数が重要．</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// このようにスラッシュ3つのコメントもDoxygenに認識される．1行コメントの場合はこちらが便利．</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 先程のaddWall関数の説明書きの例</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @brief 壁を追加します</span></span><br><span class=\"line\"><span class=\"comment\"> * @param x 壁を追加する区画のx座標</span></span><br><span class=\"line\"><span class=\"comment\"> * @param y 壁を追加する区画のy座標</span></span><br><span class=\"line\"><span class=\"comment\"> * @param angle 今自分が向いている絶対方向</span></span><br><span class=\"line\"><span class=\"comment\"> * @param wall 今見えている壁情報</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">addWall</span><span class=\"params\">(<span class=\"keyword\">int8_t</span> x, <span class=\"keyword\">int8_t</span> y, MazeAngle angle, Walldata wall)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Map::isExistWall関数の例</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * @brief 指定した方向に壁があるか返します。</span></span><br><span class=\"line\"><span class=\"comment\"> * @param dir 壁を調べたい方向</span></span><br><span class=\"line\"><span class=\"comment\"> * @return 壁があればtrue，なければfalse</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">isExistWall</span><span class=\"params\">(MouseAngle dir)</span></span>;</span><br></pre></td></tr></table></figure>\n\n<p>以上です．</p>\n<p>本当はもっと色々書けることがあるのですが，個人開発のコードなので最低限これだけあれば問題ないと思います．</p>\n<h1 id=\"バグ管理\"><a href=\"#バグ管理\" class=\"headerlink\" title=\"バグ管理\"></a>バグ管理</h1><p>Doxygenでは関数のリファレンスだけでなく，TODOリスト・バグリストも作ることが出来ます．これは任意のソースファイルに書くと便利です．<br>次のようにします．</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// まだ実装したい機能がある関数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hoge</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"comment\">/// @todo これからやるべきこと</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// バグがある関数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fuga</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"comment\">/// @bug 暴走する</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>バグ，TODOリストはリファレンスと別ページにまとめられます．</p>\n<p><img src=\"4.png\" alt=\"未解消\"></p>\n<h1 id=\"ドキュメントを生成する\"><a href=\"#ドキュメントを生成する\" class=\"headerlink\" title=\"ドキュメントを生成する\"></a>ドキュメントを生成する</h1><p>ドキュメントは簡単に作れます．</p>\n<h2 id=\"CUI\"><a href=\"#CUI\" class=\"headerlink\" title=\"CUI\"></a>CUI</h2><p>Doxygenをインストールします．</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman -S doxygen</span><br></pre></td></tr></table></figure>\n\n<p>プロジェクトのあるディレクトリに移動し，初期設定ファイルを生成します．初めに一度だけ実行します．</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doxygen -g</span><br></pre></td></tr></table></figure>\n\n<p><code>Doxyfile</code>が設定ファイルなので，必要に応じて書き換えます．</p>\n<p>次のコマンドでリファレンスを生成します．</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doxygen</span><br></pre></td></tr></table></figure>\n\n<p>おわりです．<code>./html/index.html</code>をブラウザで開くのが一番お手軽にチェックできます．</p>\n<h2 id=\"GUI\"><a href=\"#GUI\" class=\"headerlink\" title=\"GUI\"></a>GUI</h2><p>GUIは使っていないのでわかりません．良さそうな記事があったので，これを見てみてください．</p>\n<p><a href=\"https://qiita.com/wakaba130/items/faa6671bd5c954cb2d02#%E4%BD%BF%E3%81%84%E6%96%B9doxygen%E5%AE%9F%E8%A1%8C%E7%B7%A8\">最近覚えた便利アプリ doxygen - Qiita</a></p>\n<h1 id=\"まとめ\"><a href=\"#まとめ\" class=\"headerlink\" title=\"まとめ\"></a>まとめ</h1><p>鵤くんではバグ管理にのみDoxygenを使っています．しかし，ちょっとした説明書きをコードに書くだけで見やすく整えてくれるDoxygenは非常に便利です．是非活用してください．</p>\n<p>明日の<a href=\"http://blog.taniho.net/categories/TAC2017/\">taniho Advent Calendar 2017</a>も何か書きます．</p>\n",
            "tags": [
                "Doxygen"
            ]
        }
    ]
}