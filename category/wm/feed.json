{
    "version": "https://jsonfeed.org/version/1",
    "title": "taniho's blog • All posts by \"wm\" category",
    "description": "technical note",
    "home_page_url": "http://blog.taniho.net",
    "items": [
        {
            "id": "http://blog.taniho.net/2016/12/%E3%82%BF%E3%82%A4%E3%83%AB%E5%9E%8BWM%E3%81%A7%E5%BF%AB%E9%81%A9%E3%81%AA%E7%92%B0%E5%A2%83%E3%82%92%E6%A7%8B%E7%AF%89%E3%81%99%E3%82%8B/",
            "url": "http://blog.taniho.net/2016/12/%E3%82%BF%E3%82%A4%E3%83%AB%E5%9E%8BWM%E3%81%A7%E5%BF%AB%E9%81%A9%E3%81%AA%E7%92%B0%E5%A2%83%E3%82%92%E6%A7%8B%E7%AF%89%E3%81%99%E3%82%8B/",
            "title": "タイル型WMで快適な環境を構築する",
            "date_published": "2016-12-06T06:25:03.000Z",
            "content_html": "<h1 id=\"はじめに\"><a href=\"#はじめに\" class=\"headerlink\" title=\"はじめに\"></a>はじめに</h1><p>この記事は<a href=\"http://qiita.com/advent-calendar/2016/tokyo_university_of_science\">東京理科大学 Advent Calendar 2016 - Qiita</a>の6日目の記事です．昨日はfujitoraさんの<a href=\"http://qiita.com/fujitora/items/a8f1da9ebc98c2940b4a\">New Relicでめっちゃ簡単にRailsアプリケーションの監視をする</a>でした．明日の枠はまだ埋まっていないので，この記事を見た誰かが書いてくれると嬉しいなあ．</p>\n<h1 id=\"デスクトップ環境とは\"><a href=\"#デスクトップ環境とは\" class=\"headerlink\" title=\"デスクトップ環境とは\"></a>デスクトップ環境とは</h1><p>さて皆さん，快適なデスクトップ環境をお過ごしでしょうか？</p>\n<a id=\"more\"></a>\n\n<p>唐突ですが，このスクリーンショットは半年前の僕のパソコンの様子です．<br><img src=\"window1.png\"></p>\n<p>この頃は<a href=\"https://wiki.archlinuxjp.org/index.php/Cinnamon\">Cinnamon</a>というウインドウマネージャを使っていました．これは「スタック型」と呼ばれるウインドウマネージャです．Windowsでも同じような雰囲気だと思いますが，いくつものウインドウがあり，マウスで自在に動かせるタイプの環境です．<br>僕は今までスタック型の環境しか使ってこなかったわけですが，あるときふと気付きました．<br>「新しいウインドウを開いた時，いつも最大化している！！」</p>\n<p>そして，知人の紹介で「タイル型」のウインドウマネージャがあるということを知り，ウインドウマネージャを変えることにしました．</p>\n<h1 id=\"タイル型を使う\"><a href=\"#タイル型を使う\" class=\"headerlink\" title=\"タイル型を使う\"></a>タイル型を使う</h1><p>今使っている環境は<a href=\"https://i3wm.org/\">i3</a>です．<br>こんな感じに，モニタをn分割していい感じのレイアウトで表示してくれます．</p>\n<p><img src=\"1.png\"><br><img src=\"2.png\"></p>\n<p>ブラウザでおなじみの「タブ」のようにウインドウを切り替えることもできます．</p>\n<p><img src=\"3.png\"></p>\n<p>画面を分割した中に，タブを作ることもできます．</p>\n<p><img src=\"4.png\"></p>\n<p>またi3には”floating mode”なるモードが存在し，GIMPなどスタック型のウインドウマネージャ用に作られたアプリケーションも楽々使うことができます．これが，タイル型の中でもi3をオススメしたい一番の理由です．<br><img src=\"5.png\"></p>\n<h1 id=\"i3の設定\"><a href=\"#i3の設定\" class=\"headerlink\" title=\"i3の設定\"></a>i3の設定</h1><p>ノートパソコンで運用する上で，必要と思われる設定をまとめておきます．</p>\n<h2 id=\"ランチャー\"><a href=\"#ランチャー\" class=\"headerlink\" title=\"ランチャー\"></a>ランチャー</h2><p>今までGNOMEのランチャー(スタートメニュー？)を使っていたため，i3標準のdmenuは使いづらく思いました．<br>freedesktop.org準拠のデスクトップファイルを参照できるようにしたい，ということで，僕は<a href=\"https://davedavenport.github.io/rofi/\">rofi</a>を使っています．rofiはコマンドライン引数に色々と書くことで挙動や見た目を変更させることができます．<br>i3の設定ファイルに次にように設定しました．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bindsym $mod+semicolon exec &quot;rofi -show drun -font &#39;snap 10&#39; -fg &#39;#505050&#39; -bg &#39;#000000&#39; -hlfg &#39;#ffb964&#39; -hlbg &#39;#000000&#39; -o 85 -kb-cancel &#39;Escape,Control+g&#39; -kb-mode-next &#39;Control+i&#39;&quot;</span><br></pre></td></tr></table></figure>\n<p>Emacsのhelmと対応させて”S-;”で起動，”C-g”で閉じられるように設定しています．</p>\n<p>デスクトップファイルについては<a href=\"http://lambdalisue.hatenablog.com/entry/2013/09/28/015515\">freedesktop.org 規格のデスクトップファイルについてのメモ - Λlisue’s blog</a>を参照しました．</p>\n<h2 id=\"電源管理\"><a href=\"#電源管理\" class=\"headerlink\" title=\"電源管理\"></a>電源管理</h2><p>ロック・サスペンド・シャットダウンあたりはぱぱっとできるように設定をします．</p>\n<h3 id=\"ロック\"><a href=\"#ロック\" class=\"headerlink\" title=\"ロック\"></a>ロック</h3><p>i3の場合はi3lockを使うことでお手軽にロックがかけられます．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set $Locker i3lock -i ~&#x2F;Pictures&#x2F;Wallpaper&#x2F;kishimen.png &amp;&amp; sleep 1</span><br><span class=\"line\">set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown</span><br><span class=\"line\">mode &quot;$mode_system&quot; &#123;</span><br><span class=\"line\">    bindsym l exec --no-startup-id $Locker, mode &quot;default&quot;</span><br><span class=\"line\">    bindsym e exec --no-startup-id i3-msg exit, mode &quot;default&quot;</span><br><span class=\"line\">    bindsym s exec --no-startup-id $Locker &amp;&amp; systemctl suspend, mode &quot;default&quot;</span><br><span class=\"line\">    bindsym h exec --no-startup-id $Locker &amp;&amp; systemctl hibernate, mode &quot;default&quot;</span><br><span class=\"line\">    bindsym r exec --no-startup-id systemctl reboot, mode &quot;default&quot;</span><br><span class=\"line\">    bindsym Shift+s exec --no-startup-id systemctl poweroff -i, mode &quot;default&quot;</span><br><span class=\"line\">    bindsym Return mode &quot;default&quot;</span><br><span class=\"line\">    bindsym Escape mode &quot;default&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"PrintScreen\"><a href=\"#PrintScreen\" class=\"headerlink\" title=\"PrintScreen\"></a>PrintScreen</h2><p>スクリーンショットも撮りたいので設定を行います．<br>僕は<a href=\"https://github.com/naelstrof/maim\">maim</a>を使いました．なかなかよいアプリケーションで，画面の一部を切り取ってキャプチャを行うことができます(別途<a href=\"https://github.com/naelstrof/slop\">slop</a>が必要)．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bindsym Print exec &quot;maim ~&#x2F;Pictures&#x2F;screenshot&#x2F;$(date +%F-%T).png&quot;</span><br><span class=\"line\">bindsym $mod+Print exec &quot;maim -i $(xdotool getactivewindow) ~&#x2F;Pictures&#x2F;screenshot&#x2F;$(date +%F-%T).png&quot;</span><br><span class=\"line\">bindsym Shift+Print exec &quot;maim --select ~&#x2F;Pictures&#x2F;screenshot&#x2F;$(date +%F-%T).png&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"その他のキーボード・ショートカット\"><a href=\"#その他のキーボード・ショートカット\" class=\"headerlink\" title=\"その他のキーボード・ショートカット\"></a>その他のキーボード・ショートカット</h2><p>音量・ミュート・明るさなどを特殊キーから調整できるようにしました．<br>この際，キーの名前を取得する際にはxevコマンドを利用して調べました．<br>参考：<a href=\"https://wiki.archlinuxjp.org/index.php/%E7%89%B9%E5%88%A5%E3%81%AA%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89%E3%82%AD%E3%83%BC\">特別なキーボードキー - ArchWiki</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bindsym XF86MonBrightnessDown exec &quot;xbacklight -dec 5&quot;</span><br><span class=\"line\">bindsym XF86MonBrightnessUp exec &quot;xbacklight -inc 5&quot;</span><br><span class=\"line\">bindsym XF86AudioMute exec &quot;amixer -q -D pulse set Master toggle&quot;</span><br><span class=\"line\">bindsym XF86AudioLowerVolume exec &quot;amixer -c 0 -D pulse sset Master 1%- unmute&quot;</span><br><span class=\"line\">bindsym XF86AudioRaiseVolume exec &quot;amixer -c 0 -D pulse sset Master 1%+ unmute&quot;</span><br><span class=\"line\">bindsym XF86AudioMicMute exec &quot;amixer -c 0 -D pulse set Capture toggle&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"インターネットにつなぐ\"><a href=\"#インターネットにつなぐ\" class=\"headerlink\" title=\"インターネットにつなぐ\"></a>インターネットにつなぐ</h2><p>この辺からただの覚書です．<br>コンピュータの起動時にネットワークに接続できるようにします．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec_always --no-startup-id nm-applet</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"音を出せるようにする\"><a href=\"#音を出せるようにする\" class=\"headerlink\" title=\"音を出せるようにする\"></a>音を出せるようにする</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec_always --no-startup-id pulseaudio --start</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"背景を設定する\"><a href=\"#背景を設定する\" class=\"headerlink\" title=\"背景を設定する\"></a>背景を設定する</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec_always --no-startup-id feh --bg-scale ~&#x2F;Pictures&#x2F;Wallpaper&#x2F;1366_768_20091126090927427353.jpg</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"i3の基本操作-大嘘\"><a href=\"#i3の基本操作-大嘘\" class=\"headerlink\" title=\"i3の基本操作(大嘘)\"></a>i3の基本操作(大嘘)</h1><p>i3の初期設定についてはデフォルトの設定ファイルを見てもらうとして，この記事では僕オリジナルの設定を自慢したいと思います．</p>\n<h2 id=\"ワークスペースの切り替え\"><a href=\"#ワークスペースの切り替え\" class=\"headerlink\" title=\"ワークスペースの切り替え\"></a>ワークスペースの切り替え</h2><p>ワークスペースの切り替えは”S-[1234567890]”がデフォルトになっているようですが，正直狙った数字キーを押すのが面倒なので，思い切って変更しています．<br>“S-[asdfuiop]”とすることでいい感じに使っています．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set $WSa 1:a</span><br><span class=\"line\">set $WSs 2:s</span><br><span class=\"line\">set $WSd 3:d</span><br><span class=\"line\">set $WSf 4:f</span><br><span class=\"line\">set $WSu 5:u</span><br><span class=\"line\">set $WSi 6:i</span><br><span class=\"line\">set $WSo 7:o</span><br><span class=\"line\">set $WSp 8:p</span><br><span class=\"line\">bindsym $mod+a workspace $WSa</span><br><span class=\"line\">bindsym $mod+s workspace $WSs</span><br><span class=\"line\">bindsym $mod+d workspace $WSd</span><br><span class=\"line\">bindsym $mod+f workspace $WSf</span><br><span class=\"line\">bindsym $mod+u workspace $WSu</span><br><span class=\"line\">bindsym $mod+i workspace $WSi</span><br><span class=\"line\">bindsym $mod+o workspace $WSo</span><br><span class=\"line\">bindsym $mod+p workspace $WSp</span><br><span class=\"line\">bindsym $mod+Shift+a move container to workspace $WSa</span><br><span class=\"line\">bindsym $mod+Shift+s move container to workspace $WSs</span><br><span class=\"line\">bindsym $mod+Shift+d move container to workspace $WSd</span><br><span class=\"line\">bindsym $mod+Shift+f move container to workspace $WSf</span><br><span class=\"line\">bindsym $mod+Shift+u move container to workspace $WSu</span><br><span class=\"line\">bindsym $mod+Shift+i move container to workspace $WSi</span><br><span class=\"line\">bindsym $mod+Shift+o move container to workspace $WSo</span><br><span class=\"line\">bindsym $mod+Shift+p move container to workspace $WSp</span><br></pre></td></tr></table></figure>\n<p>もう一つポイントがあって，ワークスペース名を”数字:名前”にしています．<br>次の設定を書くことで，i3bar上に並ぶワークスペースが降順にソートされるようになります．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bar &#123;</span><br><span class=\"line\">        status_command i3status</span><br><span class=\"line\">        font pango:DejaVu Sans 10px</span><br><span class=\"line\">        strip_workspace_numbers yes</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ウインドウの切り替え\"><a href=\"#ウインドウの切り替え\" class=\"headerlink\" title=\"ウインドウの切り替え\"></a>ウインドウの切り替え</h2><p>複数のウインドウを表示している時，その間の移動は”S-[jkl;]”がデフォルトになっています．しかし，vimキーバインドと一つずれていてとても気持ちが悪かったので，”S-[hjkl]”で移動できるように変更しました．</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bindsym $mod+h focus left</span><br><span class=\"line\">bindsym $mod+j focus down</span><br><span class=\"line\">bindsym $mod+k focus up</span><br><span class=\"line\">bindsym $mod+l focus right</span><br><span class=\"line\">bindsym $mod+Shift+h move left</span><br><span class=\"line\">bindsym $mod+Shift+j move down</span><br><span class=\"line\">bindsym $mod+Shift+k move up</span><br><span class=\"line\">bindsym $mod+Shift+l move right</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"最後に\"><a href=\"#最後に\" class=\"headerlink\" title=\"最後に\"></a>最後に</h1><p>ここまで長々と設定を書いてきましたが，僕の設定ファイルをgithubに公開しているので貼り付けておきます．<br><a href=\"https://github.com/taniho0707/dotfiles/blob/master/i3/config\">taniho0707/dotfiles - gihub</a></p>\n<p>また，i3の設定で参考にしたサイトです．</p>\n<ul>\n<li><a href=\"https://wiki.archlinuxjp.org/index.php/I3\">i3 - ArchWiki</a></li>\n<li><a href=\"https://i3wm.org/docs/\">i3 improved tiling wm</a></li>\n<li><a href=\"http://opamp.hatenablog.jp/entry/2013/11/26/013528\">タイル型WMに手を出してみた (i3) - opamp_sando’s blog</a></li>\n</ul>\n",
            "tags": [
                "ArchLinux",
                "AdventCalendar",
                "i3",
                "wm"
            ]
        }
    ]
}